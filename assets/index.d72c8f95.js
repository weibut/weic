var e=Object.defineProperty,a=Object.defineProperties,o=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,n=(a,o,t)=>o in a?e(a,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[o]=t,r=(e,a)=>{for(var o in a||(a={}))s.call(a,o)&&n(e,o,a[o]);if(t)for(var o of t(a))l.call(a,o)&&n(e,o,a[o]);return e},i=(e,t)=>a(e,o(t));import{_ as d}from"./d-dialog.742c36de.js";import{_ as c,l as p,g as m}from"./d-text-icon.995c3277.js";import{f as u,V as g,bq as y,aO as f,o as b,a as h,d as v,j as _,u as k,m as w,k as j,a_ as x,F as L,q as O,t as P,x as q,b as C,l as I,p as V,s as S,L as z,M as D,E,bl as K,bm as T,aZ as U,ar as W}from"./vendor.d7d62f29.js";import"./el-skeleton-item.d8d32b1b.js";import"./el-image-viewer.809ea355.js";import"./el-tab-pane.b7419647.js";import{p as F,q as H,r as M,s as R,t as Z}from"./main.0c516264.js";const A=e=>(z("data-v-616e5f7b"),e=e(),D(),e),B={class:"remai-content hfull"},G={style:{"background-color":"var(--bg-card)"}},J={class:"ac pt10 d-flex-between remai-search"},N={class:"remai-search",style:{"margin-top":"4px"}},Q=["onClick"],X={class:"pl20 pr20"},Y={class:"d-layout hfull bt",style:{height:"calc(100% - 60px)","margin-top":"0px"}},$={class:"d-layout-content mt10 d-auto-y ml10",style:{height:"calc(100% - 60px)"}},ee={key:0,class:"mb10"},ae=S(" 为您找到 "),oe={style:{color:"#e74737"}},te=S(" 相关的结果 "),se={style:{color:"#e74737"}},le=S("个 "),ne={class:"remai-body d-flex"},re=["onClick","href"],ie={style:{padding:"16px"}},de=["title"],ce={class:"price"},pe=A((()=>v("em",{class:"f12",style:{"vertical-align":"-2px"}},"券后￥",-1))),me={class:"f16 b",style:{"vertical-align":"-2px"}},ue={class:"fr couponlink"},ge={class:"ac"},ye=S("加载更多"),fe={name:"appRemai"};var be=c({name:"remai",components:{Content:c(Object.assign(fe,{setup(e){const a=u({category:"jd_today_top",categoryList:[{name:"热卖",api:"jd_today_top"},{name:"好货",api:"jd_goods"},{name:"9块9",api:"jd_nine"},{name:"排行",api:"jd_subsidy_goods"},{name:"京东拼购",api:"jd_collage"},{name:"京东自营",api:"jd_self"}],hotSearch:[],total_count:0,goodsOptions:[],goodList:[],loading:!1,moreLoading:!1,rowData:{},queryParams:{pageIndex:1,pageSize:24}}),o=e=>{a.keyword="",1==e?(a.queryParams.pageIndex++,a.moreLoading=!0):(a.loading=!0,a.queryParams.pageIndex=1),H[a.category](i(r({},a.queryParams),{v:"v2"})).then((o=>{let t=o.data||o.brand_list||[];a.goodList=1==e?[...a.goodList,...t]:t})).finally((()=>{a.loading=!1,a.moreLoading=!1}))};o(),F({v:"v1"}).then((e=>{a.hotSearch=e.hotWords||[],p.set("jdHotSearchTime",g().valueOf())}));const t=(e,o)=>{e?R({word:e,v:"v1"}).then((e=>{o((e||[]).map((e=>({value:e.kw}))))})):cd(a.hotWords)};function s(e){1==e?(a.queryParams.pageIndex++,a.moreLoading=!0):(a.loading=!0,a.queryParams.pageIndex--),Z(i(r({},a.queryParams),{keyword:a.keyword,v:"v2"})).then((o=>{let t=o.data||[];a.goodList=1==e?[...a.goodList,...t]:t,a.total_count=o.total_count||0})).finally((()=>{a.loading=!1,a.moreLoading=!1}))}return(e,l)=>{const n=y,r=E,i=K,d=T,c=f,p=U,u=m;return b(),h("div",B,[v("div",G,[v("div",J,[_(n,{size:"small",style:{width:"100%"},modelValue:k(a).keyword,"onUpdate:modelValue":l[0]||(l[0]=e=>k(a).keyword=e),filterable:"",remote:"",onKeyup:w(s,["enter"]),onChange:s,"reserve-keyword":"",placeholder:"粘贴商品标题，先领取再购物","fetch-suggestions":t},null,8,["modelValue","onKeyup"]),v("button",{class:"d-button",onClick:s},[_(r,{size:"16"},{default:j((()=>[_(k(x))])),_:1})])]),v("p",N,[(b(!0),h(L,null,O(k(a).hotSearch,(e=>(b(),h("span",{onClick:o=>{return t=e,a.keyword=t,void s();var t},class:"f12 hot d-sub",key:e},P(e),9,Q)))),128))]),v("div",X,[_(d,{onTabClick:o,modelValue:k(a).category,"onUpdate:modelValue":l[1]||(l[1]=e=>k(a).category=e)},{default:j((()=>[(b(!0),h(L,null,O(k(a).categoryList,(e=>(b(),q(i,{label:e.name,name:e.api,key:e.api},null,8,["label","name"])))),128))])),_:1},8,["modelValue"])])]),v("div",Y,[v("div",$,[k(a).keyword?(b(),h("p",ee,[ae,v("span",oe,P(k(a).keyword),1),te,v("span",se,P(k(a).total_count),1),le])):C("",!0),v("ul",ne,[_(p,{loading:k(a).loading,rows:3,count:1,animated:""},{default:j((()=>[(b(!0),h(L,null,O(k(a).goodList,(e=>(b(),h("li",{onClick:a=>function(e){let a={gid:e.goods_link,unionid:1000360070,positionid:3004143482};M(a).then((e=>{window.open(e.link,"_blank")}))}(e),class:"remai-item",href:e.discount_link,key:e.goods_id,target:"_blank"},[_(c,{fit:"cover",style:{height:"204px"},class:"hfull wfull",src:e.goods_img},null,8,["src"]),v("div",ie,[v("p",{class:"title",title:e.short_name||e.jd_title},P(e.short_name),9,de),v("p",ce,[pe,v("em",me,P(e.final_price),1),v("a",ue,"领"+P(e.discount_price)+"元券",1)])])],8,re)))),128))])),_:1},8,["loading"])]),v("div",ge,[I(_(u,{onClick:l[2]||(l[2]=e=>{return t=1,void(a.keyword?s(t):o(t));var t}),loading:k(a).moreLoading,style:{width:"120px"},size:"small"},{default:j((()=>[ye])),_:1},8,["loading"]),[[V,!k(a).loading]])])])])])}}}),[["__scopeId","data-v-616e5f7b"]])},setup:(e,a)=>({})},[["render",function(e,a,o,t,s,l){const n=W("content"),r=d;return b(),q(r,{height:"640px",destroyOnClose:!0},{default:j((()=>[_(n)])),_:1})}]]);export{be as default};
