import{aK as e,r as l,c as t,D as a,H as s,o,x as n,k as i,d,u,a as c,b as r,j as p,b0 as m,Y as f,t as y,g as h,ah as g,n as v,aI as k,J as w,s as b,E as x,T as C}from"./vendor.d7d62f29.js";import{t as S}from"./d-text-icon.995c3277.js";import{o as V,a as _}from"./main.0c516264.js";const B={key:0,class:"d-dialog-tool is-mac"},j={key:1,class:"d-dialog-tool is-win"},z={class:"d-dialog-title"},H=b("应用功能区"),M={props:{modelValue:{type:Boolean,default:!1},title:{type:String,default:""},width:{type:[Number,String],default:"900px"},height:{type:String,default:"600px"},destroyOnClose:{type:Boolean,default:!1},fullscreenBtn:{type:Boolean,default:!0},headerClass:String},emits:["update:modelValue"],setup(b,{emit:M}){const Y=b,D=e(),I=l(null),O=l(!1);let T=l(Y.height);const W=t({get:()=>Y.modelValue,set(e){M("update:modelValue",e)}});function X(){let e=document.body.clientHeight,l=parseInt(Y.height);T.value=e<l?e+"px":l+"px"}function q(){}return a((()=>{!function(){const e=I.value.dialogRef;if(e){const t=e.querySelector(".el-dialog__header");e.style.overflow="auto",t.style.cursor="move";var l=e.currentStyle||window.getComputedStyle(e,null);let a=t=>{if(e.style.transition="all 0s",O.value)return;let a=e.clientWidth,s=document.body.clientWidth,o=e.clientHeight,n=document.body.clientHeight,i=(s-a)/2,d=(n-o)/2,u=t.clientX-e.clientLeft,c=t.clientY-e.clientTop,r=+l.left.replace(/\px/g,""),p=+l.top.replace(/\px/g,"");document.onmousemove=l=>{var t=l.clientX-u+r,a=l.clientY-c+p;t=(t=t<0&&Math.abs(t)>i?-i:t)>0&&Math.abs(t)>i?i:t,a=(a=a<0&&Math.abs(a)>d?-d:a)>0&&Math.abs(a)>d?d:a,e.style.left=t+"px",e.style.top=a+"px"},document.onmouseup=function(l){e.style.transition="all 1s",document.onmousemove=null,document.onmouseup=null}};t.onmousedown=a,t.ondblclick=()=>{O.value=!O.value}}}(),X(),V(window,"resize",X)})),s((()=>{_(window,"resize",q)})),(e,l)=>{const t=x,a=C;return o(),n(a,k({center:"","append-to-body":"","destroy-on-close":b.destroyOnClose,modelValue:u(W),"onUpdate:modelValue":l[5]||(l[5]=e=>w(W)?W.value=e:null)},u(D),{ref_key:"refDialog",ref:I,"custom-class":"d-dialog glass",width:b.width,fullscreen:O.value,"show-close":!1,"close-on-click-modal":!0,"close-on-press-escape":!1,"lock-scroll":!0}),{default:i((()=>[d("div",{class:h(["d-dialog-header",b.headerClass])},[u(S)()?(o(),c("div",B,[d("span",{onClick:l[0]||(l[0]=e=>W.value=!1),title:"关闭"}),d("span",{onClick:l[1]||(l[1]=e=>W.value=!1),title:"关闭"}),Y.fullscreenBtn?(o(),c("span",{key:0,title:"放大/缩小",onClick:l[2]||(l[2]=e=>O.value=!O.value)})):r("",!0)])):(o(),c("div",j,[Y.fullscreenBtn?(o(),c("span",{key:0,title:"放大/缩小",onClick:l[3]||(l[3]=e=>O.value=!O.value)},[p(t,{size:"15"},{default:i((()=>[p(u(m),{class:"d-middle"})])),_:1})])):r("",!0),d("span",{title:"关闭",onClick:l[4]||(l[4]=e=>W.value=!1)},[p(t,{size:"18"},{default:i((()=>[p(u(f),{class:"d-middle"})])),_:1})])])),d("div",z,y(b.title),1)],2),d("div",{class:"d-dialog-body",style:v({height:u(T)})},[g(e.$slots,"default",{},(()=>[H]))],4)])),_:3},16,["destroy-on-close","modelValue","width","fullscreen"])}}};export{M as _};
