import{_ as e}from"./d-dialog.742c36de.js";import{f as a,r as t,o,x as s,k as l,d as n,t as r,u as c,a as d,q as i,g as u,F as p,j as b,m as h,h as m,L as f,M as v,ag as y,R as g}from"./vendor.d7d62f29.js";import{_ as x,a as j}from"./d-text-icon.995c3277.js";import"./main.0c516264.js";const k=e=>(f("data-v-e9dfbbca"),e=e(),v(),e),_={class:"d-layout hfull"},w={class:"d-layout-aside robot-warp",width:"180px"},D={class:"robot-aside-body d-scrollbar-hide"},H=["onClick"],R={class:"d-layout-content hfull p10 app-robot-main"},T=k((()=>n("div",{class:"robot-header"},"header",-1))),C=k((()=>n("img",{class:"robot-chat-user",src:"https://files.codelife.cc/blog/avatar/default-avatar.png"},null,-1))),L=["innerHTML"],M={class:"robot-chat-input"},V={name:"appRobot"};var q=x(Object.assign(V,{setup(f){const v=a({title:"iRobot",loading:!1,records:[]}),x=t(null),k=a({sender:1,content:""});function V(e){var a;e.preventDefault(),a=k.content,j.getRobot({msg:a}).then((e=>{let a=e.data.content||"";a=a.replace("{br}","</br>"),v.records.push({sender:0,content:e.data.content}),y((()=>{q()}))})),k.ct=(new Date).getTime(),v.records.push(cloneDeep(k)),k.content="",y((()=>{q()}))}function q(){y((()=>{let e=x.value.scrollHeight;x.value.scrollTo({top:e,behavior:"smooth"})}))}return(a,t)=>{const f=g,y=e;return o(),s(y,{width:"770px",height:"500px"},{default:l((()=>[n("div",_,[n("aside",w,[n("h2",null,r(c(v).title),1),n("ul",D,[(o(!0),d(p,null,i(c(v).tabsData,(e=>(o(),d("li",{onClick:t=>a.tabHandle(e),class:u([{active:a.queryForm.source===e.source},"robot-aside-item d-elip"]),key:e.type},r(e.name),11,H)))),128))])]),n("div",R,[T,n("ul",{class:"robot-chat-body d-cell",ref_key:"refChatBody",ref:x},[(o(!0),d(p,null,i(c(v).records,(e=>(o(),d("li",{class:u(`sender-${e.sender}`),key:e},[C,n("div",null,[n("div",{class:"robot-chat-bubble",innerHTML:e.content},null,8,L)])],2)))),128))],512),n("div",M,[b(f,{type:"textarea",onKeyup:h(m(V,["prevent"]),["enter"]),modelValue:c(k).content,"onUpdate:modelValue":t[0]||(t[0]=e=>c(k).content=e),placeholder:"输入框"},null,8,["onKeyup","modelValue"])])])])])),_:1})}}}),[["__scopeId","data-v-e9dfbbca"]]);export{q as default};
