import{_ as e}from"./d-dialog.742c36de.js";import{r as t,f as a,c as s,bp as l,aP as i,o as n,x as c,k as o,d,l as u,a as f,F as m,q as r,g as p,u as v,ba as y,t as b,j as I,Y as k,P as x,b as h,s as g,V as _,ag as C,O as Y,E as j,R as V}from"./vendor.d7d62f29.js";import{b as O}from"./main.0c516264.js";import{_ as B}from"./d-empty.f47cf15a.js";import{_ as D,m as H,f as M,S as w}from"./d-text-icon.995c3277.js";import{t as F,a as P}from"./timeFormat.e3a60483.js";const U={class:"d-layout app-notes hfull"},q={class:"d-layout-aside notes-tabs",width:"200px"},E={class:"f18 bb pl20"},N=g(" 备忘录 "),R={class:"d-relative notes-sort fr pr10"},S=["onClick"],T=["onClick"],z={class:"f14 b d-elip"},A={class:"f12 d-inline d-sub"},G=["onClick"],J=["title","onClick"],K={class:"d-layout-content hfull p10 d-bg-input"},L={key:0,class:"hfull"},Q={class:"ac f12 d-sub mt5"},W={name:"appNotes"};var X=D(Object.assign(W,{setup(g){const D=H(),W=t(null),X=a({activeItem:D.value[0],sortBy:"desc"});function Z(){w("notes")}const $=s((()=>l(D.value,["ut"],[X.sortBy])));function ee(){X.activeItem.ut=_().valueOf(),Z()}async function te(e){X.activeItem={id:M(),title:"",content:"",fixed:!1,ct:_().valueOf(),ut:_().valueOf()},D.value.push(X.activeItem),C((()=>{W.value.focus()})),Z()}return(t,a)=>{const s=B,l=j,g=O,_=V,C=e,H=i("bg-color");return n(),c(C,{width:"770px",height:"500px"},{default:o((()=>[d("div",U,[u((n(),f("div",q,[d("h2",E,[N,d("span",R,[(n(),f(m,null,r(["asc","desc"],((e,t)=>d("i",{key:t,class:p([[{active:v(X).sortBy==e},e],"sort-caret"]),onClick:t=>v(X).sortBy=e},null,10,S))),64))])]),v(D).length?(n(),c(y,{key:1,tag:"ul",name:"list-complete",class:"notes-tabs-body"},{default:o((()=>[(n(!0),f(m,null,r(v($),((e,t)=>(n(),f("li",{onClick:t=>v(X).activeItem=e,class:p([{active:v(X).activeItem===e},"notes-tabs-item d-elip"]),key:e.id},[d("h4",z,b(e.title||e.content||"无标题"),1),d("time",A,b(v(F)(e.ut)),1),d("span",{class:"notes-del",title:"删除备忘录",onClick:a=>function(e,t){Y.confirm("删除这条备忘录?","提示",{center:!0,type:"warning"}).then((()=>{t&&(X.activeItem=$.value[t-1]);let a=D.value.findIndex((t=>t.id==e.id));D.value.splice(a,1),Z()}))}(e,t)},[I(l,null,{default:o((()=>[I(v(k))])),_:1})],8,G),d("span",{class:"notes-del fixed",title:""+(e.fixed?"取消固定":"固定到桌面"),onClick:t=>function(e){e.fixed=!e.fixed,Z()}(e)},[I(g,{icon:"icon-fixed-"+(e.fixed?"solid":"line")},null,8,["icon"])],8,J)],10,T)))),128))])),_:1})):(n(),c(s,{key:0})),d("div",{class:"notes-add d-flex-center",onClick:te,title:"新增备忘录"},[I(l,null,{default:o((()=>[I(v(x))])),_:1})])])),[[H,"var(--bg-input)"]]),d("div",K,[v(D).length?(n(),f("div",L,[I(_,{ref_key:"refTitle",ref:W,class:"note-title f16",modelValue:v(X).activeItem.title,"onUpdate:modelValue":a[0]||(a[0]=e=>v(X).activeItem.title=e),onInput:ee,placeholder:"请输入笔记标题"},null,8,["modelValue"]),I(_,{onInput:ee,class:"note-content f14",type:"textarea",modelValue:v(X).activeItem.content,"onUpdate:modelValue":a[1]||(a[1]=e=>v(X).activeItem.content=e),placeholder:"请输入笔记内容"},null,8,["modelValue"]),d("div",Q," 最后编辑："+b(v(P)(v(X).activeItem.ut,"YYYY-MM-DD HH:mm"))+", 创建："+b(v(P)(v(X).activeItem.ct,"YYYY-MM-DD HH:mm")),1)])):h("",!0)])])])),_:1})}}}),[["__scopeId","data-v-54cc269a"]]);export{X as default};
